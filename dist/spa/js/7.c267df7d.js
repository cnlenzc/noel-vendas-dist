(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"48bc":function(a,t,s){"use strict";s.r(t);var o={name:"produto-edit",data:()=>({campos:{}}),methods:{async atualizar(){this.$route.params.id||(this.$set(this.campos,"datahora_cadastro",new Date),this.$set(this.campos,"unidade","UN"));try{if(loading.show(),this.$route.params.id){const a=await backend("get","produto/"+this.$route.params.id);this.campos=a.data}}catch(a){notifyError("erro na consulta",a)}finally{loading.hide()}},async salvar(){this.campos._id?await backend("put","produto/"+this.campos._id,{...this.campos,_id:void 0}):await backend("post","produto",this.campos),notifyPositive("produto salvo com sucesso"),this.$router.push({name:"produto-list"})},async remover(){await backend("delete","produto/"+this.campos._id),notifyPositive("produto removido com sucesso"),this.$router.push({name:"produto-list"})}},mounted(){this.atualizar()}},i=s("2877"),e=s("9989"),r=s("0378"),l=s("27f9"),c=s("ddd8"),d=s("9c40"),n=s("eebe"),m=s.n(n),u=Object(i.a)(o,(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("q-page",{attrs:{padding:""}},[s("div",{staticClass:"q-pa-md",staticStyle:{"max-width":"1200px"}},[s("div",{staticClass:"row q-mb-md"},[s("div",{staticClass:"col text-h5"},[a._v("produto")]),s("div",{staticClass:"col-auto"},[a._v("# "+a._s(a.campos._id))])]),s("q-form",{staticClass:"q-gutter-sm",on:{submit:function(t){return a.tryLoading(a.salvar)}}},[s("div",{staticClass:"row items-baseline"},[s("q-input",{staticClass:"col-12",attrs:{label:"descrição",filled:"","lazy-rules":"",rules:[function(a){return a&&a.length>0||"obrigatório"}]},model:{value:a.campos.descricao,callback:function(t){a.$set(a.campos,"descricao",t)},expression:"campos.descricao"}})],1),s("div",{staticClass:"row items-baseline"},[s("q-input",{staticClass:"col-6 col-md-3",attrs:{label:"unidade",filled:""},model:{value:a.campos.unidade,callback:function(t){a.$set(a.campos,"unidade",t)},expression:"campos.unidade"}}),s("q-input",{staticClass:"col-6 col-md-3 q-pl-md",attrs:{filled:"",label:"valor",mask:"#.##","fill-mask":"0","reverse-fill-mask":"","input-class":"text-right","lazy-rules":"",rules:[function(a){return!!a||"obrigatório"}]},model:{value:a.campos.valor,callback:function(t){a.$set(a.campos,"valor",t)},expression:"campos.valor"}})],1),s("div",{staticClass:"row items-baseline"},[a._v("\n        cadastro: "),s("strong",{staticClass:"q-ml-md"},[a._v(a._s(a.$format.datetime(a.campos.datahora_cadastro)))])]),s("div",[s("q-btn",{attrs:{label:"salvar",type:"submit",color:"primary"}}),a.campos._id?s("q-btn",{staticClass:"q-ml-sm",attrs:{label:"remover",color:"negative"},on:{click:function(t){return a.tryLoading(a.remover)}}}):a._e(),s("q-btn",{staticClass:"q-ml-sm",attrs:{label:"voltar",color:"primary",flat:"",to:{name:"produto-list"}}})],1)])],1)])}),[],!1,null,null,null);t.default=u.exports;m()(u,"components",{QPage:e.a,QForm:r.a,QInput:l.a,QSelect:c.a,QBtn:d.a})}}]);